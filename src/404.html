<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting to Angular App</title>
    <script>
      // GitHub Pages 会将 404 页面用于所有未找到的路由
      // 我们需要将用户重定向回 index.html，让 Angular 路由处理
      (function() {
        // 保存当前路径
        var path = window.location.pathname;
        var hash = window.location.hash;
        var search = window.location.search;
        
        // 移除仓库名称前缀（Angular-Components），保留实际的Angular路由
        var basePath = '/Angular-Components';
        var redirectPath = path;
        
        if (path.startsWith(basePath)) {
          redirectPath = path.substring(basePath.length) || '/';
        }
        
        // 构造完整的重定向URL
        var redirectUrl = redirectPath + search + hash;
        
        // 使用 sessionStorage 保存重定向信息
        sessionStorage.setItem('redirected', 'true');
        sessionStorage.setItem('redirectPath', redirectUrl);
        
        // 重定向到根目录
        window.location.replace('/');
      })();
    </script>
    <meta http-equiv="refresh" content="0;URL='/'">
  </head>
  <body>
    <p>If you are not redirected automatically, follow this <a href="/">link to the application</a>.</p>
  </body>
</html>