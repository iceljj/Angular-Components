<!-- comp-upload.html -->
<div class="upload-container" [class.dragging]="isDragging">
 <div class="upload-zone">
  <p>将文件拖放到此处上传</p>
  <label class="custom-file-upload">
   <input type="file" multiple (change)="onFileSelected($event)"/>
   <span class="file-input-label">选择文件</span>
   <span class="file-input-icon">📁</span>
  </label>
 </div>

 <!-- 视图切换按钮 -->
 <div class="view-toggle">
  <button (click)="setView('list')" [class.active]="currentView === 'list'">列表视图</button>
  <button (click)="setView('grid')" [class.active]="currentView === 'grid'">网格视图</button>
 </div>

 <!-- 文件列表滚动区域 -->
 <div class="file-list-scroll" [ngClass]="{'grid-view': currentView === 'grid'}">
  <div class="file-item" *ngFor="let file of files; let i = index">
   <!-- 图片预览 -->
   <div class="preview" *ngIf="getFilePreview(file.file)">
    <img [src]="getFilePreview(file.file)" alt="预览图"/>
   </div>

   <div class="file-info">
    <span>{{ file.file.name }}</span>
    <span class="status">{{ getFileStatusText(file.status) }}</span>
   </div>

   <div class="progress-wrapper" *ngIf="file.status !== 'success' && file.status !== 'failed'">
    <div class="progress-bar" [style.width.%]="file.progress">
     <span class="progress-text">{{ file.progress }}%</span>
    </div>
   </div>

   <div class="actions">
    <button *ngIf="file.status === 'uploading'" (click)="pauseUpload(i)">暂停</button>
    <button *ngIf="file.status === 'paused'" (click)="resumeUpload(i)">继续</button>
    <button *ngIf="file.status === 'uploading'" (click)="cancelUpload(i)" class="cancel-btn">取消</button>
    <button (click)="deleteFile(i)" class="delete-btn">删除</button>
   </div>
  </div>
 </div>

 <div class="global-actions">
  <button (click)="cancelAll()" [disabled]="noneUploading()">取消全部</button>
 </div>
</div>