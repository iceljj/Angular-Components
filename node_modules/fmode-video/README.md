# fmode-video

åŸºäºAngularçš„é«˜æ€§èƒ½HLSè§†é¢‘æ’­æ”¾å™¨ç»„ä»¶ï¼Œæ”¯æŒHLSæµåª’ä½“æ’­æ”¾ã€è‡ªé€‚åº”ç ç‡åˆ‡æ¢å’Œä¸°å¯Œçš„æ’­æ”¾æ§åˆ¶åŠŸèƒ½ã€‚

## ç‰¹æ€§

- ğŸ¥ æ”¯æŒHLSæµåª’ä½“æ’­æ”¾
- ğŸ“± è‡ªé€‚åº”ç ç‡åˆ‡æ¢
- ğŸ›ï¸ å®Œæ•´çš„æ’­æ”¾æ§åˆ¶åŠŸèƒ½
- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡
- ğŸ”§ æ”¯æŒè‡ªå®šä¹‰é…ç½®
- ğŸŒ åŸºäºAngular 20+å’ŒHLS.jsæ„å»º
- ğŸš€ é«˜æ€§èƒ½è§†é¢‘æ’­æ”¾ä½“éªŒ

## å®‰è£…

```bash
# ä½¿ç”¨npm
npm install fmode-video

# ä½¿ç”¨yarn
cnpm install fmode-video

# å®‰è£…ä¾èµ–
cnpm install @videogular/ngx-videogular/core @videogular/ngx-videogular/controls @videogular/ngx-videogular/overlay-play @videogular/ngx-videogular/buffering hls.js --save
```

## ä½¿ç”¨

### 1. åœ¨Moduleä¸­å¯¼å…¥ï¼ˆå¦‚æœä½¿ç”¨NgModulesï¼‰

```typescript
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { FmodeVideoModule } from 'fmode-video';
import { AppComponent } from './app.component';

@NgModule({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule,
    FmodeVideoModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
export class AppModule { }
```

### 2. å¯¹äºStandaloneç»„ä»¶

```typescript
import { Component } from '@angular/core';
import { FmodeVideoComponent } from 'fmode-video';

@Component({
  selector: 'app-root',
  standalone: true,
  imports: [FmodeVideoComponent],
  template: `
    <app-videogular [videoSources]="videoSources"></app-videogular>
  `
})
export class AppComponent {
  videoSources = [
    {label: 'é«˜æ¸… 1080p', url: 'https://example.com/video/1080p.m3u8', bitrate: 5000},
    {label: 'æ ‡æ¸… 720p', url: 'https://example.com/video/720p.m3u8', bitrate: 2500}
  ];
}
```

### 3. åœ¨HTMLæ¨¡æ¿ä¸­ä½¿ç”¨

```html
<app-videogular 
  [videoSources]="videoSources"
  [autoPlay]="true"
  [muted]="false"
  (ready)="onPlayerReady($event)"
  (play)="onPlay()"
  (pause)="onPause()"
></app-videogular>
```

## API

### è¾“å…¥å±æ€§

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `videoSources` | `Array<{label: string, url: string, bitrate: number}>` | `[]` | è§†é¢‘æºåˆ—è¡¨ï¼ŒåŒ…å«ä¸åŒè´¨é‡çš„HLSæµ |
| `autoPlay` | `boolean` | `false` | æ˜¯å¦è‡ªåŠ¨æ’­æ”¾ |
| `muted` | `boolean` | `false` | æ˜¯å¦é™éŸ³ |
| `initialQuality` | `number` | `0` | åˆå§‹é€‰æ‹©çš„è§†é¢‘è´¨é‡ç´¢å¼• |

### è¾“å‡ºäº‹ä»¶

| äº‹ä»¶ | å‚æ•° | æè¿° |
|------|------|------|
| `ready` | `VgApiService` | æ’­æ”¾å™¨å‡†å¤‡å°±ç»ªæ—¶è§¦å‘ |
| `play` | æ—  | è§†é¢‘æ’­æ”¾æ—¶è§¦å‘ |
| `pause` | æ—  | è§†é¢‘æš‚åœæ—¶è§¦å‘ |
| `error` | `any` | è§†é¢‘æ’­æ”¾é”™è¯¯æ—¶è§¦å‘ |
| `qualityChange` | `{label: string, url: string, bitrate: number}` | è§†é¢‘è´¨é‡åˆ‡æ¢æ—¶è§¦å‘ |

## å¼€å‘æŒ‡å—

### å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd component
```

### å®‰è£…ä¾èµ–

```bash
cnpm install
```

### æ„å»ºåº“

```bash
ng build fmode-video
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist/fmode-video` ç›®å½•ä¸‹ã€‚

### å‘å¸ƒåˆ°npm

1. é¦–å…ˆæ„å»ºåº“ï¼š
   ```bash
   ng build fmode-video --configuration production
   ```

2. è¿›å…¥æ„å»ºç›®å½•ï¼š
   ```bash
   cd dist/fmode-video
   ```

3. å‘å¸ƒåˆ°npmï¼š
   ```bash
   npm publish
   ```

> æ³¨æ„ï¼šå‘å¸ƒå‰è¯·ç¡®ä¿å·²ç™»å½•npmè´¦å·ï¼Œå¹¶ä¸”å…·æœ‰å‘å¸ƒæƒé™ã€‚

## å…¼å®¹æ€§

- Angular 20.1.0åŠä»¥ä¸Š
- ç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox, Safari, Edgeï¼‰
- ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨

## License

MIT
