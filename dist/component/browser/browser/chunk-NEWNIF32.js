import{t as T}from"./chunk-LM5MDKJD.js";import{k as P,o as E}from"./chunk-3BOVJI26.js";import{Bb as C,Ga as m,Kb as h,Sb as k,Tb as s,Ub as d,ac as p,fb as f,fc as l,gb as c,hc as _,ic as y,jc as v,lc as M,mc as O,nc as w,ra as a,sa as r,sb as g,sc as x,vc as B,yb as b}from"./chunk-SV3L42UN.js";import"./chunk-IJBWTILK.js";var F=["modalContent"],V=["*"];function I(i,t){if(i&1){let e=p();s(0,"button",4),l("click",function(){a(e);let n=_();return r(n.closeModal())}),B(1," \xD7 "),d()}}var S=class i{isOpen=!1;backgroundType="mask";closeOnBackdropClick=!0;showCloseButton=!0;closed=new C;modalContent;handleEscapeKey(t){this.isOpen&&this.closeModal()}closeModal(){this.isOpen=!1,this.enableBodyScroll(),this.closed.emit()}onBackdropClick(t){let e=this.modalContent.nativeElement.contains(t.target);this.closeOnBackdropClick&&!e&&this.closeModal()}disableBodyScroll(){document.body.style.overflow="hidden"}enableBodyScroll(){document.body.style.overflow=""}ngOnChanges(){this.isOpen?this.disableBodyScroll():this.enableBodyScroll()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-comp-modol"]],viewQuery:function(e,o){if(e&1&&M(F,5),e&2){let n;O(n=w())&&(o.modalContent=n.first)}},hostBindings:function(e,o){e&1&&l("keydown.escape",function(u){return o.handleEscapeKey(u)},f)},inputs:{isOpen:"isOpen",backgroundType:"backgroundType",closeOnBackdropClick:"closeOnBackdropClick",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},features:[m],ngContentSelectors:V,decls:5,vars:8,consts:[["modalContent",""],[1,"popup-modal",3,"click"],["role","dialog","aria-modal","true",1,"modal-content"],["class","close-button","aria-label","\u5173\u95ED\u5F39\u51FA\u6846",3,"click",4,"ngIf"],["aria-label","\u5173\u95ED\u5F39\u51FA\u6846",1,"close-button",3,"click"]],template:function(e,o){if(e&1){let n=p();y(),s(0,"div",1),l("click",function(D){return a(n),r(o.onBackdropClick(D))}),s(1,"div",2,0),b(3,I,2,0,"button",3),v(4),d()()}e&2&&(x("open",o.isOpen)("mask-bg",o.backgroundType==="mask")("transparent-bg",o.backgroundType==="transparent"),c(),h("aria-hidden",!o.isOpen),c(2),k("ngIf",o.showCloseButton))},dependencies:[E,P,T],styles:['@charset "UTF-8";.popup-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000;visibility:hidden;opacity:0;transition:opacity .3s ease,visibility .3s ease}.popup-modal.mask-bg[_ngcontent-%COMP%]{background-color:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.popup-modal.transparent-bg[_ngcontent-%COMP%]{background-color:transparent;pointer-events:none}.popup-modal.transparent-bg[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{pointer-events:auto}.popup-modal.open[_ngcontent-%COMP%]{visibility:visible;opacity:1}.modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;max-width:90%;max-height:90vh;overflow:auto;padding:24px;transform:scale(.95);transition:transform .3s ease}.open[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{transform:scale(1)}.close-button[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:none;border:none;font-size:24px;line-height:1;cursor:pointer;color:#666;padding:4px 10px;border-radius:4px;transition:all .2s}.close-button[_ngcontent-%COMP%]:hover{color:#333;background-color:#f5f5f5}.close-button[_ngcontent-%COMP%]:focus{outline:2px solid #3d7eff}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:95%;padding:16px}}']})};export{S as CompModol};
