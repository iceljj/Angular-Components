import{t as S}from"./chunk-LM5MDKJD.js";import{k as _,o as E}from"./chunk-3BOVJI26.js";import{Ga as g,Ja as h,Sb as m,Tb as a,Ub as o,ac as y,fc as p,gb as i,hc as c,lb as v,ra as u,rc as l,sa as f,sb as x,vc as r,wc as C,xc as w,yb as b}from"./chunk-SV3L42UN.js";import"./chunk-IJBWTILK.js";function I(s,e){if(s&1&&(a(0,"div",11),r(1),o()),s&2){let n=c();i(),w(" \u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u5019",n.dots," ")}}function k(s,e){if(s&1){let n=y();a(0,"div",12)(1,"button",13),p("click",function(){u(n);let d=c();return f(d.speedUp())}),r(2,"\u52A0\u901F\u65CB\u8F6C"),o(),a(3,"button",13),p("click",function(){u(n);let d=c();return f(d.togglePlay())}),r(4),o(),a(5,"button",13),p("click",function(){u(n);let d=c();return f(d.speedDown())}),r(6,"\u51CF\u901F\u65CB\u8F6C"),o()()}if(s&2){let n=c();i(4),C(n.isPlaying?"\u6682\u505C":"\u7EE7\u7EED")}}var P=class s{constructor(e){this.elementRef=e}size=200;speed=8;showText=!0;showControls=!0;isPlaying=!0;colors=["rgba(255, 107, 107, 0.7)","rgba(77, 171, 247, 0.7)","rgba(129, 236, 236, 0.7)","rgba(253, 203, 110, 0.7)","rgba(85, 239, 196, 0.7)","rgba(162, 155, 254, 0.7)"];dots="";intervalId;ngAfterViewInit(){this.setCssVariables(),this.updateAnimationState(),this.startDotsAnimation()}ngOnChanges(e){(e.size||e.speed)&&this.setCssVariables(),(e.speed||e.isPlaying)&&this.updateAnimationState(),e.showText&&(this.showText?this.startDotsAnimation():this.clearDotsAnimation())}setCssVariables(){let e=this.elementRef.nativeElement.querySelector(".cube-container");e&&(e.style.setProperty("--face-translate",`${this.size/2}px`),e.style.setProperty("--animation-duration",`${this.speed}s`))}updateAnimationState(){let e=this.elementRef.nativeElement.querySelector(".cube");e&&(e.style.animationPlayState=this.isPlaying?"running":"paused")}startDotsAnimation(){this.showText&&(this.clearDotsAnimation(),this.intervalId=setInterval(()=>{this.dots=this.dots.length>=3?"":this.dots+"."},500))}clearDotsAnimation(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.dots=""}togglePlay(){this.isPlaying=!this.isPlaying,this.updateAnimationState()}speedUp(){this.speed>1&&(this.speed--,this.setCssVariables(),this.updateAnimationState())}speedDown(){this.speed++,this.setCssVariables(),this.updateAnimationState()}ngOnDestroy(){this.clearDotsAnimation()}static \u0275fac=function(n){return new(n||s)(v(h))};static \u0275cmp=x({type:s,selectors:[["app-cubeloading"]],inputs:{size:"size",speed:"speed",showText:"showText",showControls:"showControls",isPlaying:"isPlaying",colors:"colors"},features:[g],decls:17,vars:18,consts:[[1,"cube-loader-container"],["class","loading-text",4,"ngIf"],[1,"cube-container"],[1,"cube"],[1,"cube-face","cube-face-front"],[1,"cube-face","cube-face-back"],[1,"cube-face","cube-face-right"],[1,"cube-face","cube-face-left"],[1,"cube-face","cube-face-top"],[1,"cube-face","cube-face-bottom"],["class","controls",4,"ngIf"],[1,"loading-text"],[1,"controls"],[3,"click"]],template:function(n,t){n&1&&(a(0,"div",0),b(1,I,2,1,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4),r(5,"1"),o(),a(6,"div",5),r(7,"2"),o(),a(8,"div",6),r(9,"3"),o(),a(10,"div",7),r(11,"4"),o(),a(12,"div",8),r(13,"5"),o(),a(14,"div",9),r(15,"6"),o()()(),b(16,k,7,1,"div",10),o()),n&2&&(i(),m("ngIf",t.showText),i(),l("width",t.size,"px")("height",t.size,"px"),i(2),l("background",t.colors[0]),i(2),l("background",t.colors[1]),i(2),l("background",t.colors[2]),i(2),l("background",t.colors[3]),i(2),l("background",t.colors[4]),i(2),l("background",t.colors[5]),i(2),m("ngIf",t.showControls))},dependencies:[E,_,S],styles:[`@charset "UTF-8";:host{display:block}.cube-loader-container{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;margin:0 auto}.cube-loader-container .loading-text{color:#e3f2fd;font-size:1.1rem;margin:20px 0;font-weight:500;text-align:center}.cube-loader-container .cube-container{perspective:1200px;position:relative}.cube-loader-container .cube-container .cube{width:100%;height:100%;position:relative;transform-style:preserve-3d;transform:translateZ(calc(var(--face-translate) * -1));animation:rotate var(--animation-duration) infinite linear}.cube-loader-container .cube-container .cube-face{position:absolute;width:100%;height:100%;border:2px solid rgba(255,255,255,.8);display:flex;justify-content:center;align-items:center;font-size:2rem;color:#ffffffb3;box-shadow:inset 0 0 20px #fff3,0 0 30px #0000004d}.cube-loader-container .cube-container .cube-face-front{transform:rotateY(0) translateZ(var(--face-translate))}.cube-loader-container .cube-container .cube-face-back{transform:rotateY(180deg) translateZ(var(--face-translate))}.cube-loader-container .cube-container .cube-face-right{transform:rotateY(90deg) translateZ(var(--face-translate))}.cube-loader-container .cube-container .cube-face-left{transform:rotateY(-90deg) translateZ(var(--face-translate))}.cube-loader-container .cube-container .cube-face-top{transform:rotateX(90deg) translateZ(var(--face-translate))}.cube-loader-container .cube-container .cube-face-bottom{transform:rotateX(-90deg) translateZ(var(--face-translate))}@keyframes rotate{0%{transform:translateZ(calc(var(--face-translate) * -1)) rotateX(0) rotateY(0) rotate(0)}to{transform:translateZ(calc(var(--face-translate) * -1)) rotateX(360deg) rotateY(360deg) rotate(360deg)}}.cube-loader-container .controls{margin-top:20px;display:flex;justify-content:center;gap:15px;flex-wrap:wrap}.cube-loader-container .controls button{background:linear-gradient(45deg,#2196f3,#21cbf3);color:#fff;border:none;padding:10px 20px;font-size:.9rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700;min-width:120px;box-shadow:0 4px 15px #2196f366}.cube-loader-container .controls button:hover{transform:translateY(-3px);box-shadow:0 6px 20px #2196f399}.cube-loader-container .controls button:active{transform:translateY(1px)}@media (max-width: 650px){.cube-loader-container .loading-text{font-size:1rem}.cube-loader-container .controls button{padding:8px 15px;font-size:.8rem;min-width:100px}}
`],encapsulation:3})};export{P as Cubeloading};
