import"./chunk-7UZYWCAJ.js";import{c as _,d as m,f as l,g as z,i as f,j as C,k as D}from"./chunk-WU746J7T.js";import{f as T,h as A,n as W,o as B,p as I,t as N}from"./chunk-LM5MDKJD.js";import{j as F,k,o as L}from"./chunk-3BOVJI26.js";import{Ac as P,Bc as E,Cc as w,Sb as p,Tb as e,Ub as n,ac as v,eb as x,fc as s,gb as d,hc as S,ra as b,rc as O,sa as h,sb as M,vc as o,xc as y,yb as g}from"./chunk-SV3L42UN.js";import"./chunk-IJBWTILK.js";function V(c,a){if(c&1){let i=v();e(0,"button",13),s("click",function(){b(i);let r=S();return h(r.resetToAuto())}),o(1,"\u{1F504} \u81EA\u52A8\u5217\u6570"),n()}}function H(c,a){if(c&1&&(e(0,"div",14)(1,"h3"),o(2),n(),e(3,"p"),o(4,"\u8FD9\u662F\u4E00\u4E2A\u54CD\u5E94\u5F0F\u5E03\u5C40\u7684\u7F8E\u5316\u5361\u7247\u5185\u5BB9\u3002"),n()()),c&2){let i=a.$implicit;p("@cardState",void 0),d(2),y("\u5361\u7247 ",i)}}var G=class c{cards=[1,2,3,4,5,6];gapSize=16;minCardWidth=200;cols=3;isManualMode=!1;constructor(){}ngAfterViewInit(){this.calculateColumns()}onWindowResize(){this.isManualMode||this.calculateColumns()}calculateColumns(){let a=document.querySelector(".card-grid");if(!a)return;let i=a.offsetWidth,t=(this.cols-1)*this.gapSize,r=i-t,u=Math.max(1,Math.floor(r/this.minCardWidth));this.cols=u}setManualCols(a){this.isManualMode=!0,this.cols=a}resetToAuto(){this.isManualMode=!1,this.calculateColumns()}addCard(){this.cards.length<20&&this.cards.push(this.cards.length+1)}removeCard(){this.cards.length>1&&this.cards.pop()}increaseGap(){this.gapSize<50&&(this.gapSize+=4,this.isManualMode||this.calculateColumns())}decreaseGap(){this.gapSize>8&&(this.gapSize-=4,this.isManualMode||this.calculateColumns())}getGridTemplate(){return`repeat(${this.cols}, 1fr)`}static \u0275fac=function(i){return new(i||c)};static \u0275cmp=M({type:c,selectors:[["app-comp-list"]],hostBindings:function(i,t){i&1&&s("resize",function(){return t.onWindowResize()},x)},decls:25,vars:8,consts:[[1,"container"],[1,"toolbar"],[1,"btn",3,"click"],[1,"col-control"],[3,"ngModelChange","change","ngModel"],["value","2"],["value","3"],["value","4"],["value","5"],["class","btn btn-reset",3,"click",4,"ngIf"],[1,"scroll-container"],[1,"card-grid"],["class","card",4,"ngFor","ngForOf"],[1,"btn","btn-reset",3,"click"],[1,"card"]],template:function(i,t){i&1&&(e(0,"div",0)(1,"div",1)(2,"button",2),s("click",function(){return t.addCard()}),o(3,"\u2795 \u589E\u52A0\u5361\u7247"),n(),e(4,"button",2),s("click",function(){return t.removeCard()}),o(5,"\u2796 \u51CF\u5C11\u5361\u7247"),n(),e(6,"button",2),s("click",function(){return t.increaseGap()}),o(7,"\u2B06\uFE0F \u589E\u5927\u95F4\u8DDD"),n(),e(8,"button",2),s("click",function(){return t.decreaseGap()}),o(9,"\u2B07\uFE0F \u7F29\u5C0F\u95F4\u8DDD"),n(),e(10,"div",3),o(11," \u6BCF\u884C\uFF1A "),e(12,"select",4),w("ngModelChange",function(u){return E(t.cols,u)||(t.cols=u),u}),s("change",function(){return t.setManualCols(t.cols)}),e(13,"option",5),o(14,"2\u5217"),n(),e(15,"option",6),o(16,"3\u5217"),n(),e(17,"option",7),o(18,"4\u5217"),n(),e(19,"option",8),o(20,"5\u5217"),n()()(),g(21,V,2,0,"button",9),n(),e(22,"div",10)(23,"div",11),g(24,H,5,2,"div",12),n()()()),i&2&&(d(12),P("ngModel",t.cols),d(9),p("ngIf",t.isManualMode),d(2),O("gap",t.gapSize,"px")("grid-template-columns",t.getGridTemplate()),p("@listAnimation",void 0),d(),p("ngForOf",t.cards))},dependencies:[L,F,k,N,B,I,W,T,A],styles:[".container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto;font-family:Segoe UI,Roboto,sans-serif}.toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:24px;background-color:#f9f9f9;border-radius:12px;padding:16px;box-shadow:0 2px 6px #0000000d}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#e6f7ff;color:#1890ff;border:1px solid #91d5ff;padding:8px 16px;border-radius:8px;cursor:pointer;transition:all .2s ease-in-out}.toolbar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#bae7ff;transform:translateY(-1px)}.toolbar[_ngcontent-%COMP%]   .btn-reset[_ngcontent-%COMP%]{background-color:#fff1e6;color:#fa8c16;border:1px solid #ffbb96}.toolbar[_ngcontent-%COMP%]   .col-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px}.toolbar[_ngcontent-%COMP%]   .col-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 12px;border-radius:6px;border:1px solid #ccc;font-size:14px;background-color:#fff;transition:border-color .2s}.toolbar[_ngcontent-%COMP%]   .col-control[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1890ff;box-shadow:0 0 0 2px #1890ff33}.scroll-container[_ngcontent-%COMP%]{height:60vh;overflow-y:auto;padding:16px;border-radius:16px;background-color:#fafafa;box-shadow:0 2px 12px #00000014}.card-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px;transition:all .3s ease-in-out}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;padding:20px;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:18px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:8px 0 0}.card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 16px #0000001f}"],data:{animation:[_("listAnimation",[f("* => *",[C(":enter",[l({opacity:0,transform:"scale(0.8)"}),D("100ms",m("300ms ease-out",l({opacity:1,transform:"scale(1)"})))],{optional:!0}),C(":leave",[l({opacity:1,transform:"scale(1)"}),m("200ms ease-in",l({opacity:0,transform:"scale(0.8)"}))],{optional:!0})])]),_("cardState",[z("in",l({opacity:1,transform:"scale(1)"})),f("void => *",[l({opacity:0,transform:"scale(0.8)"}),m(300)]),f("* => void",[m(200,l({opacity:0,transform:"scale(0.8)"}))])])]}})};export{G as CompList};
