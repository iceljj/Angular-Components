import{j as v,k as I,o as y}from"./chunk-3BOVJI26.js";import{Bb as O,M as h,R as b,Sb as p,Tb as s,Ub as o,Vb as M,ac as C,f as x,fc as f,gb as c,hc as d,ra as u,sa as g,sb as S,sc as _,uc as k,vc as r,wc as l,xc as P,yb as a}from"./chunk-SV3L42UN.js";import"./chunk-IJBWTILK.js";function E(n,t){n&1&&(s(0,"span"),r(1,"\u2713"),o())}function T(n,t){if(n&1&&(s(0,"span"),r(1),o()),n&2){let e=d().$implicit;c(),l(e.id)}}function z(n,t){n&1&&M(0,"div",15)}function D(n,t){n&1&&(s(0,"span"),r(1," \u8FDB\u884C\u4E2D "),o())}function F(n,t){n&1&&(s(0,"span"),r(1," \u5DF2\u5B8C\u6210 "),o())}function j(n,t){if(n&1){let e=C();s(0,"div",5),f("click",function(){let m=u(e).$implicit,L=d();return g(L.handleStepClick(m.id))}),s(1,"div",6)(2,"div",7),a(3,E,2,0,"span",8)(4,T,2,1,"span",8),o(),a(5,z,1,0,"div",9),o(),s(6,"div",10)(7,"div",11)(8,"span",12),r(9),o(),s(10,"span",13),a(11,D,2,0,"span",8)(12,F,2,0,"span",8),o()(),s(13,"p",14),r(14),o()()()}if(n&2){let e=t.$implicit,i=d();k(i.getStepStatusClass(e)),_("disabled",!i.isStepClickable(e.id)),c(2),_("active",e.id===i.currentStepId),c(),p("ngIf",e.completed),c(),p("ngIf",!e.completed&&e.id!==i.currentStepId),c(),p("ngIf",!i.isLastStep(e.id)),c(4),l(e.title),c(2),p("ngIf",e.id===i.currentStepId&&!e.completed),c(),p("ngIf",e.completed),c(2),l(e.description)}}function V(n,t){if(n&1){let e=C();s(0,"button",16),f("click",function(){u(e);let m=d();return g(m.completeCurrentStep())}),r(1),o()}if(n&2){let e=d();c(),P(" \u5B8C\u6210 ",e.currentStep==null?null:e.currentStep.title," ")}}var w=class n{steps=[{id:1,title:"\u9700\u6C42\u6536\u96C6",completed:!1,description:"\u4E0E\u5BA2\u6237\u6C9F\u901A\u9700\u6C42\u7EC6\u8282"},{id:2,title:"UI\u8BBE\u8BA1",completed:!1,description:"\u521B\u5EFA\u754C\u9762\u539F\u578B\u548C\u89C6\u89C9\u7A3F"},{id:3,title:"\u5F00\u53D1\u5B9E\u73B0",completed:!1,description:"\u524D\u7AEF\u7EC4\u4EF6\u5F00\u53D1\u4E0E\u96C6\u6210"},{id:4,title:"\u6D4B\u8BD5\u9A8C\u8BC1",completed:!1,description:"\u529F\u80FD\u6D4B\u8BD5\u4E0E\u7528\u6237\u9A8C\u6536"},{id:5,title:"\u90E8\u7F72\u4E0A\u7EBF",completed:!1,description:"\u751F\u4EA7\u73AF\u5883\u90E8\u7F72\u4E0E\u76D1\u63A7"}];stepChange=new O;currentStepId=1;lastCompletedIndex=-1;clickSubject=new x;clickSubscription;constructor(){this.clickSubscription=this.clickSubject.pipe(b(),h(100)).subscribe(t=>{this.handleActualStepClick(t)}),this.updateLastCompletedIndex()}ngOnDestroy(){this.clickSubscription.unsubscribe()}updateLastCompletedIndex(){this.lastCompletedIndex=this.steps.reduce((t,e,i)=>e.completed?i:t,-1)}isStepClickable(t){return this.areAllStepsCompleted()?!0:this.steps.findIndex(i=>i.id===t)<=this.lastCompletedIndex+1}handleStepClick(t){this.isStepClickable(t)&&this.clickSubject.next(t)}handleActualStepClick(t){this.currentStepId=t,this.stepChange.emit(t)}get currentStep(){return this.steps.find(t=>t.id===this.currentStepId)}get canCompleteCurrentStep(){let t=this.currentStep;return t&&!t.completed}completeCurrentStep(){let t=this.steps.findIndex(e=>e.id===this.currentStepId);t!==-1&&(this.steps[t].completed=!0,t>this.lastCompletedIndex&&(this.lastCompletedIndex=t),this.stepChange.emit(this.currentStepId),t<this.steps.length-1&&(this.currentStepId=this.steps[t+1].id,this.stepChange.emit(this.currentStepId)))}isLastStep(t){return t===this.steps[this.steps.length-1].id}getStepStatusClass(t){return t.id===this.currentStepId?"current":t.completed?"completed":"pending"}areAllStepsCompleted(){return this.steps.every(t=>t.completed)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=S({type:n,selectors:[["app-check-list"]],inputs:{steps:"steps"},outputs:{stepChange:"stepChange"},decls:5,vars:2,consts:[[1,"checklist-container"],[1,"steps-list"],["class","step-item",3,"disabled","class","click",4,"ngFor","ngForOf"],[1,"action-container"],["class","complete-button",3,"click",4,"ngIf"],[1,"step-item",3,"click"],[1,"status-indicator"],[1,"indicator-circle"],[4,"ngIf"],["class","timeline",4,"ngIf"],[1,"step-content"],[1,"step-header"],[1,"step-title"],[1,"step-status"],[1,"step-desc"],[1,"timeline"],[1,"complete-button",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1),a(2,j,15,13,"div",2),o(),s(3,"div",3),a(4,V,2,1,"button",4),o()()),e&2&&(c(2),p("ngForOf",i.steps),c(2),p("ngIf",i.canCompleteCurrentStep))},dependencies:[y,v,I],styles:['@charset "UTF-8";.checklist-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:12px;max-width:480px;margin:0 auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.steps-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.step-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;border-radius:10px;background:#fff;transition:all .2s ease;box-shadow:0 2px 6px #0000000d}.step-item.pending[_ngcontent-%COMP%]{background:#f8f9fa}.step-item.pending[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#6c757d}.step-item.pending[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{color:#adb5bd}.step-item.current[_ngcontent-%COMP%]{background:#e6f4ff;border-left:3px solid #1976d2}.step-item.current[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#1976d2;font-weight:500}.step-item.completed[_ngcontent-%COMP%]{background:#f1fbf0}.step-item.completed[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#2e7d32}.step-item.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.status-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:24px}.status-indicator[_ngcontent-%COMP%]   .indicator-circle[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:500;background:#dee2e6;color:#495057;position:relative;z-index:2}.status-indicator[_ngcontent-%COMP%]   .indicator-circle.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;font-weight:600}.status-indicator[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]{flex-grow:1;width:2px;background:#dee2e6}.step-content[_ngcontent-%COMP%]{flex:1}.step-content[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.step-content[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.step-content[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-status[_ngcontent-%COMP%]{font-size:12px;padding:2px 6px;border-radius:4px;background:#0000000d}.step-content[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{font-size:13px;color:#6c757d;margin:0;line-height:1.4}.action-container[_ngcontent-%COMP%]{margin-top:16px;padding:0 12px}.action-container[_ngcontent-%COMP%]   .complete-button[_ngcontent-%COMP%]{width:100%;background:#1976d2;color:#fff;border:none;padding:12px 16px;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:background .2s}.action-container[_ngcontent-%COMP%]   .complete-button[_ngcontent-%COMP%]:hover{background:#1565c0}.action-container[_ngcontent-%COMP%]   .complete-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}@media (max-width: 400px){.step-item[_ngcontent-%COMP%]{padding:10px;gap:8px}.step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-header[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:14px}.step-item[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .step-desc[_ngcontent-%COMP%]{font-size:12px}.complete-button[_ngcontent-%COMP%]{padding:10px 14px;font-size:14px}}']})};export{w as CheckList};
